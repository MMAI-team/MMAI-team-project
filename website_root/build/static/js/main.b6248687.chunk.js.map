{"version":3,"sources":["Upload.js","App.jsx","index.js"],"names":["Upload","file1","setFile1","useState","file2","setFile2","apiResponse","setApiResponse","React","createElement","Container","Row","className","Col","xs","Form","Group","Label","Control","id","type","onChange","event","target","files","document","getElementById","hidden","Image","src","URL","createObjectURL","alt","fluid","style","border","borderRadius","maxHeight","minHeight","Button","variant","onClick","value","handleUpload","readAsBase64","file","Promise","resolve","reject","reader","FileReader","onloadend","result","split","onerror","readAsDataURL","async","base64File1","requestBody","response","axios","post","request","responseText","error","console","uploadImages","App","require","config","ReactDOM","createRoot","render"],"mappings":"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","file":"static/js/main.b6248687.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Container, Row, Col, Form, Button, Image } from 'react-bootstrap';\r\n\r\nconst apiURL =  \"https://lubomyr-ai-api-b1f15885f038.herokuapp.com/ai/predict\";\r\nconst Upload = () => {\r\n  \r\n    const [file1, setFile1] = useState(null);\r\n    const [file2, setFile2] = useState(null);\r\n    const [apiResponse, setApiResponse] = useState('');\r\n    \r\n    const handleFile1Change = (event) => {\r\n      setApiResponse(\"\");\r\n      setFile1(event.target.files[0]);\r\n      if(event.target.files[0]==null){\r\n        document.getElementById('delButton1').hidden=true;\r\n      }\r\n      else{\r\n        document.getElementById('delButton1').hidden=false;\r\n      }\r\n    };\r\n  \r\n    const handleFile2Change = (event) => {\r\n      setApiResponse(\"\");\r\n      setFile2(event.target.files[0]);\r\n      if(event.target.files[0]==null){\r\n        document.getElementById('delButton2').hidden=true;\r\n      }\r\n      else{\r\n        document.getElementById('delButton2').hidden=false;\r\n      }\r\n    };\r\n    const handleDel1 = (event) => {\r\n      setApiResponse(\"\");      \r\n      setFile1(null);\r\n      document.getElementById(\"file1\").value = null;\r\n      document.getElementById('delButton1').hidden=true;\r\n    }\r\n    const handleDel2 = (event) => {\r\n      setApiResponse(\"\");\r\n      setFile2(null);\r\n      document.getElementById(\"file2\").value = null;\r\n      document.getElementById('delButton2').hidden=true;\r\n    }\r\n    const handleUpload = () => {\r\n      \r\n      if (!file1 || !file2) {\r\n        setApiResponse('Please select files for both inputs');\r\n        return;\r\n      }\r\n  \r\n      const readAsBase64 = (file) => {\r\n        return new Promise((resolve, reject) => {\r\n          const reader = new FileReader();\r\n          reader.onloadend = () => resolve(reader.result.split(',')[1]);\r\n          reader.onerror = reject;\r\n          reader.readAsDataURL(file);\r\n        });\r\n      };\r\n    \r\n      const uploadImages = async () => {\r\n        try {\r\n          const base64File1 = await readAsBase64(file1);\r\n          const base64File2 = await readAsBase64(file2);\r\n    \r\n          const requestBody = {\r\n            \"modelId\": \"sift\",\r\n            \"image1\": base64File1,\r\n            \"image2\": base64File2\r\n          };\r\n          \r\n          const response = await axios.post(apiURL, requestBody, \r\n            \r\n          );\r\n          \r\n          setApiResponse(response.request.responseText);\r\n        } catch (error) {\r\n          setApiResponse(\"An error has occured!\");\r\n          console.error('Error uploading files:', error);\r\n        }\r\n      };\r\n    \r\n      uploadImages();\r\n    };\r\n  \r\n    return (\r\n      <Container>\r\n        <Row className='mt-5 mb-3'>\r\n          <Col xs={6}>\r\n            <Form.Group >\r\n              <Form.Label>Photo 1</Form.Label>\r\n              <Form.Control id=\"file1\" type=\"file\" onChange={handleFile1Change} />\r\n              \r\n            </Form.Group>\r\n            {file1 && (\r\n              <Image className='mt-2'\r\n                src={URL.createObjectURL(file1)}\r\n                alt=\"File 1 Preview\"\r\n                fluid\r\n                style={{ border: '2px solid #ddd', borderRadius: '8px', maxHeight: '150px',minHeight: '150px' }}\r\n              />\r\n              \r\n            )}\r\n          </Col>\r\n          <Col xs={6} className='justify-content-center'>\r\n            <Form.Group >\r\n              <Form.Label>Photo 2</Form.Label>\r\n              <Form.Control type=\"file\" id=\"file1\" onChange={handleFile2Change} />\r\n            </Form.Group>\r\n            {file2 && (\r\n              <Image className='mt-2 '\r\n                src={URL.createObjectURL(file2)}\r\n                alt=\"File 2 Preview\"\r\n                fluid\r\n                style={{ border: '2px solid #ddd', borderRadius: '8px', maxHeight: '150px',minHeight: '150px'  }}\r\n              />\r\n            )}\r\n          </Col>\r\n        </Row>\r\n        <Row className='mt-2 mb-2'>\r\n          <Col xs={6}>\r\n            <Button variant='danger' hidden='true'id='delButton1'onClick={handleDel1}>X</Button>\r\n          </Col>\r\n          <Col xs={6}>\r\n            <Button variant='danger'hidden='true' id='delButton2'onClick={handleDel2}>X</Button>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-center\">\r\n          <Button variant=\"primary\" onClick={handleUpload}>Upload</Button>\r\n        </Row>\r\n        <Row className=\"mt-3 justify-content-center\"><p>Result: {apiResponse}</p></Row>\r\n      </Container>\r\n    );\r\n  };\r\n\r\nexport default Upload;\r\n","import React from 'react';\r\nimport Upload from './Upload';\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      \r\n      <Upload />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from './App';\r\nrequire('dotenv').config()\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(<App />);\r\n\r\n\r\n"],"sourceRoot":""}